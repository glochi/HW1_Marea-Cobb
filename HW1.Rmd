---
title: "BIOST 578 Homework 1"
author: "Marea Cobb"
date: "January 15, 2015"
reviewer: ""
---
Loads specific libraries 


```r
library(ggplot2)
library(RColorBrewer)
```

Creates the R markdown files.


```r
library(knitr)
opts_knit$set(progress = FALSE, verbose = FALSE, message=FALSE)
spin(hair = "HW1.R", format = "Rmd")
```

```r
file.rename("HW1.md", "HW1.Rmd")
```

Loads the iris data


```r
data(iris)
head(iris)
```

```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```

Creates a new column for flower_id for each entry.


```r
iris$flower_id <- rownames(iris)
head(iris)
```

```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species flower_id
## 1          5.1         3.5          1.4         0.2  setosa         1
## 2          4.9         3.0          1.4         0.2  setosa         2
## 3          4.7         3.2          1.3         0.2  setosa         3
## 4          4.6         3.1          1.5         0.2  setosa         4
## 5          5.0         3.6          1.4         0.2  setosa         5
## 6          5.4         3.9          1.7         0.4  setosa         6
```

Uses the default melt method to rearrange the data for easier classification.


```r
iris_melted <- melt(iris)
```

```
## Using Species, flower_id as id variables
```

```r
head(iris)
```

```
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species flower_id
## 1          5.1         3.5          1.4         0.2  setosa         1
## 2          4.9         3.0          1.4         0.2  setosa         2
## 3          4.7         3.2          1.3         0.2  setosa         3
## 4          4.6         3.1          1.5         0.2  setosa         4
## 5          5.0         3.6          1.4         0.2  setosa         5
## 6          5.4         3.9          1.7         0.4  setosa         6
```

Splits the variable at the "." to get the value name (length/width and flower type)


```r
split_variable <- strsplit(as.character(iris_melted$variable), split="\\.")
```

Creates the variable "flower part" from the first value in split_variable and adds it to the table


```r
iris_melted$flower_part <- sapply(split_variable, "[", 1)
```

Creates the variable "measurement type" from the second value in split_variable and adds it to the table


```r
iris_melted$measurement_type <- sapply(split_variable, "[", 2)
```

Removes variable from the table as we no longer need it


```r
iris_melted$variable <- NULL
```

Reshapes the data so width and length are now separte columns in the table 


```r
iris_cast <- dcast(iris_melted, formula=flower_id+Species+flower_part~measurement_type)
head(iris_cast)
```

```
##   flower_id    Species flower_part Length Width
## 1         1     setosa       Petal    1.4   0.2
## 2         1     setosa       Sepal    5.1   3.5
## 3        10     setosa       Petal    1.5   0.1
## 4        10     setosa       Sepal    4.9   3.1
## 5       100 versicolor       Petal    4.1   1.3
## 6       100 versicolor       Sepal    5.7   2.8
```

Creates a plot displaying the length and width of petals and sepals classified by flower type.


```r
ggplot(data=iris_cast, colour=colors, aes(x=Width, y=Length, color=Species))+ # Add points and use free scales in the facet
  geom_point()+facet_grid(Species~flower_part, scale="free")+
  #' Adds a regression line
  geom_smooth(method="lm")+
  theme(plot.background = element_rect(colour="blue"))
```

<img src="figure/graphics-unnamed-chunk-12-1.pdf" title="plot of chunk unnamed-chunk-12" alt="plot of chunk unnamed-chunk-12" style="display: block; margin: auto;" />

